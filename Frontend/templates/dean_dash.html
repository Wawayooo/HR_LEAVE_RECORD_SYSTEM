{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OsmeÃ±a Colleges - Dean Dashboard</title>
  <link rel="stylesheet" href="{% static 'assets/styles/dean_dash.css' %}">
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="logo-section">
        <div class="logo">OC</div>
        <div class="header-title">OsmeÃ±a Colleges HRIS - Dean Dashboard</div>
        </div>
        <div class="header-actions">
        <div class="admin-profile" id="deanProfile">
            <div class="admin-avatar">
            <img id="deanAvatar" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Crect fill='%23800020' width='100' height='100'/%3E%3Ctext fill='%23fff' font-size='40' x='50%25' y='50%25' text-anchor='middle' dy='.3em'%3ED%3C/text%3E%3C/svg%3E" alt="Dean Avatar" />
            </div>
            <span id="deanName">Dean Name â–¾</span>
        </div>
        </div>
    </div>

    <!-- Container -->
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
        <div class="menu-item active" data-section="dashboardSection">
            <span>ğŸ  Dashboard</span>
        </div>
        <div class="menu-item" data-section="leaveRequestsSection">
            <span>ğŸ“‹ Leave Requests</span>
        </div>
        <div class="menu-item" data-section="leaveReportsSection">
            <span>ğŸ“Š Reports</span>
        </div>
        <div class="menu-item" id="logoutBtn" style="position: absolute; bottom: 20px; width: 100%;">
            <span>ğŸšª Logout</span>
        </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
        <div class="breadcrumb" id="breadcrumb">ğŸ“ Dashboard / Dean</div>

        <!-- Dashboard Section -->
        <div id="dashboardSection" class="section">
            <h1 class="page-title">Welcome, <span id="dashboardDeanName">Dean</span></h1>

            <div class="org-chart">
            <div class="org-card">
                <div class="org-avatar">
                <img id="deanPhoto" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Crect fill='%23800020' width='120' height='120'/%3E%3Ctext fill='%23fff' font-size='60' x='50%25' y='50%25' text-anchor='middle' dy='.3em'%3ED%3C/text%3E%3C/svg%3E" alt="Dean Photo">
                </div>
                <div class="org-title" id="deanFullName">Dean Full Name</div>
                <div class="org-subtitle" id="deanDepartment">Department Name</div>
                <div class="org-details">
                <p><strong>Gender:</strong> <span id="deanGender">Male</span></p>
                <p><strong>Age:</strong> <span id="deanAge">45</span></p>
                <p><strong>Height:</strong> <span id="deanHeight">175</span> cm</p>
                <p><strong>Weight:</strong> <span id="deanWeight">70</span> kg</p>
                </div>
            </div>
            </div>

            <h2 class="section-subtitle">Faculty & Staff</h2>
            <div id="facultyChartContainer">
            <p class="loading-text">Loading faculty & staff...</p>
            </div>
        </div>

        <!-- Leave Requests Section -->
        <div id="leaveRequestsSection" class="section hidden-section">
            <h1 class="page-title">Pending Leave Requests</h1>
            <div class="leave-requests-container">
            <p class="loading-text">Loading pending leave requests...</p>
            </div>
        </div>

        <!-- Leave Reports Section -->
        <div id="leaveReportsSection" class="section hidden-section">
            <h1 class="page-title">Leave Reports</h1>
            <div class="leave-reports-cards-container">
            <p class="loading-text">Loading leave reports...</p>
            </div>
        </div>
        </div>
    </div>

    <div id="globalLoadingModal" style="
        display: none;
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.5);
        z-index: 9999;
        justify-content: center;
        align-items: center;
    ">
        <div style="
        background: #fff;
        padding: 30px 40px;
        border-radius: 12px;
        display: flex;
        flex-direction: column;
        align-items: center;
        ">
        <div class="spinner" style="
            border: 6px solid #f3f3f3;
            border-top: 6px solid #3498db;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin-bottom: 15px;
        "></div>
        <div>Loading, please wait...</div>
        </div>
    </div>

    <!-- Logout Modal -->
    <div id="logoutModal" class="modal-overlay hidden">
        <div class="modal-content">
        <div class="spinner"></div>
        <p>Logging out, please wait...</p>
        </div>
    </div>

  <script src="{% static 'assets/scripts/dean_dash.js' %}"></script>
</body>
</html>

